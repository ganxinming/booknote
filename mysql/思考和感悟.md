## 为什么要主键，外键，什么非空啊，唯一啊的约束？

这些都是为了完整性啊。

主键：主体完整性：为什么要主键？有了主键，我们插入的数据就具有唯一表示了，且不能为空。那么没有了主键，我插入的数据没有约束性，想插入什么就插入，null插入也没影响。这样似乎就太乱了。

外键：参照完整性 ：一个表参照另一个表，将别人的主键作为外键，那么我们在插入数据的时候就会检查一下，在另一张表中是否存在这个主键，如果没有，则不允许插入。这不就保证了数据的完整性吗？

约束：用户定义完整性，约束一些属性。非空，唯一，检查。

**所以说，我们sql语句的确是可以做到关联查询，而不用主键外键。但是那些数据本身没有约束，则也没有完整性，很乱。其次查询效率也低。所以建立主外键，还是有好处的。**

# 失败和异常

插入 失败：该插入的没插入

插入异常：不该插入的被插入

删除失败：该删除的没删除

删除异常：不该删除的被删除

失败：该干啥没干成

异常：不该干啥干了

# 三个

SQL语言具有 (数据定义、数据操纵、数据控制)的功能 	

数据模型的三要素：

​      数据结构、数据操作、数据约束。

# date类型转换

![1545223745765](C:\Users\12714\AppData\Roaming\Typora\typora-user-images\1545223745765.png)

如果我们输入的时间格式是yyyy-MM-dd,那么就没事，数据库默认也是这样，如果像上面那样，那么就要用个函数转换一下。（注意这里Y要大写，因为他有四位）

![1545225267301](C:\Users\12714\AppData\Roaming\Typora\typora-user-images\1545225267301.png)

SELECT id,DATE_FORMAT(begintime,'%m/%d/%Y') FROM stime;
SELECT id,DATE_FORMAT(begintime,'%Y年%m月%d日') FROM stime;

![1545225453971](C:\Users\12714\AppData\Roaming\Typora\typora-user-images\1545225453971.png)

str_to_date和DATE_FORMAT两个函数都能完成对时间格式的修改。但是目前好像我觉得DATE_FORMAT牛逼点。

它可以转成汉字表示，而str_to_date只能在是改变-的顺序，而不能换成其他的间隔符替代。